<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>统计分析界面</title>
    <link rel="stylesheet" href="css/base.css">
</head>
<body>
<!--顶部-->
<header class="header left">
    <div class="left nav">
        <ul>
            <li ><i class="nav_1"></i><a href="index.html"></a> </li>
            <li><i class="nav_2"></i><a href="carContrl.html"></a> </li>
            <li><i class="nav_3"></i><a href="map.html"></a> </li>
        </ul>
    </div>
    <div class="header_center left">
        <h2><strong>经营伴侣-满意度晴雨表</strong></h2>
        <p class="color_font"><small>Comprehensive service platform for smart tourism</small></p>
    </div>
    <div class="right nav text_right">
        <ul> <li class="nav_active"><i class="nav_7"></i><a href="static.html">维度分析</a> </li>
            <li><i class="nav_4"></i><a href="index.html">七级度分析</a> </li>
            <li><i class="nav_8"></i><a href="message.html">数据录入</a> </li>
        </ul>
    </div>
</header>

<!--内容部分-->
<div class="con left">

    <!--选择时间-->
    <div class="static_top left">
        <i></i><span>统计概况</span>
    </div>

    <!--数据总概-->
    <div class="stiatic_top_con left">
        <table>
            <tr>
                <td class="labe_td">总概：</td>
                <td colspan="3" class="sky">新增小红书平台图文评论共3267条！</td>
            </tr>
        </table>
    </div>

    <!--统计分析图-->
    <div class="static_top left">
        <i></i><span>统计分析</span>
    </div>

    <div class="div_any">

        <div class="right div_any03">

            <div class="div_any_child01 left">
                <div class="div_any_title"><img src="img/title_2.png">景区服务</div>
                <p id="char2" class="p_chart"></p>
                <div class="char_table">
                    <div class="table_p table_p01">
                    <table id="table_quality">
                        <thead>
                        <tr>
                            <th>用户名</th>
                            <th>评论</th>
                            <th>满意度</th>
                        </tr>
                        </thead>
                        <tbody>
                            <!-- <tr><td>1</td><td>好好好，必须点个赞！</td><td>非常满意</td></tr>
                            <tr><td>1</td><td>无功无过的一次体验。</td><td>一般</td></tr>
                            <tr><td>1</td><td>总的来说体验良好。</td><td>满意</td></tr>
                            <tr><td>1</td><td>最好用的产品，没有之一！</td><td>非常满意</td></tr>
                            <tr><td>1</td><td>使用感受差劲，差评。</td><td>不满意</td></tr> -->
                        </tbody>
                    </table>
                </div></div>
            </div>

            <div class="div_any_child01 left">
                <div class="div_any_title"><img src="img/title_1.png">解决问题能力</div>
                <p id="char3" class="p_chart"></p>
                <div class="char_table"><div class="table_p table_p01">
                    <table id="table_loyalty">
                        <thead><tr>
                            <th>排名</th>
                            <th>用户名</th>
                            <th>能力</th>
                        </tr>
                        </thead>
                        <tbody>
                            <!-- <tr><td>1</td><td>16x331332</td><td>466</td></tr>
                            <tr><td>2</td><td>19ax22425</td><td>398</td></tr>
                            <tr><td>3</td><td>1z988542s</td><td>292</td></tr>
                            <tr><td>4</td><td>78xd54f74</td><td>262</td></tr>
                            <tr><td>5</td><td>8cbdsda01</td><td>195</td></tr> -->
                        </tbody>
                    </table>
                </div></div>
            </div>

        </div>

        <!-- <div class="static_top left">
            <i></i><span>统计分析一</span>
        </div> -->

        <div class="right div_any03">
            <div class="div_any_child01 left">
                <div class="div_any_title"><img src="img/title_5.png">客户参与度</div>
                <p id="char1" class="p_chart"></p>
                <div class="char_table"><div class="table_p table_p01">
                    <table id="table_par">
                        <thead><tr>
                            <th>排名</th>
                            <th>用户名</th>
                            <th>互动次数</th>
                        </tr>
                        </thead>
                        <tbody>
                        <!-- <tr><td>1</td><td>16x332</td><td>766</td></tr>
                        <tr><td>2</td><td>19ax22</td><td>698</td></tr>
                        <tr><td>3</td><td>1z9882s</td><td>522</td></tr>
                        <tr><td>4</td><td>78xdf74</td><td>512</td></tr>
                        <tr><td>5</td><td>8cbd01</td><td>505</td></tr> -->
                        </tbody> 
                    </table>
                </div></div>
            </div>

            <div class="div_any_child01 left">
                <div class="div_any_title"><img src="img/title_1.png">品牌形象</div>
                <p id="char5" class="p_chart"></p>
                <div class="char_table"><div class="table_p table_p01">
                    <table id="table_price">
                        <thead><tr>
                            <th>用户名</th>
                            <th>评论</th>
                            <th>总体印象</th>
                        </tr>
                        </thead>
                        <tbody>
                        <!-- <tr><td>1</td><td>16x332</td><td>贵</td></tr>
                        <tr><td>2</td><td>19ax22</td><td>偏贵</td></tr>
                        <tr><td>3</td><td>1z9882s</td><td>一般</td></tr>
                        <tr><td>4</td><td>78xdf74</td><td>偏低</td></tr>
                        <tr><td>5</td><td>8cbd01</td><td>很低</td></tr> -->
                        </tbody>
                    </table>
                </div></div>
            </div>
        </div>

        <!-- <div class="static_top left">
            <i></i><span>统计分析一</span>
        </div> -->

        <div class="right div_any03">
            <div class="div_any_child01 left">
                <div class="div_any_title"><img src="img/title_5.png">客户反馈</div>
                <p id="char4" class="p_chart"></p>
                <div class="char_table"><div class="table_p table_p01">
                    <table id="table_feedback">
                        <thead><tr>
                            <th>用户名</th>
                            <th>评论</th>
                            <th>情感分类</th>
                        </tr>
                        </thead>
                        <tbody>
                        <!-- <tr><td>1x622</td><td>开心出游，风景美不胜收！</td><td>积极</td></tr>
                        <tr><td>13r82</td><td>大自然让人身心愉悦。</td><td>积极</td></tr>
                        <tr><td>191e1</td><td>路过一条小溪。</td><td>中性</td></tr>
                        <tr><td>12g12</td><td>湖面上全是垃圾，令人反感。</td><td>消极</td></tr>
                        <tr><td>18ee40</td><td>今天带孩子去动物园。</td><td>中性</td></tr> -->
                        </tbody>
                    </table>
                </div></div>
            </div>
            <div class="div_any_child01 left">
                <div class="div_any_title"><img src="img/title_1.png">社会责任</div>
                <p id="char6" class="p_chart"></p>
                <div class="char_table"><div class="table_p table_p01">
                    <table id="table_exp">
                        <thead><tr>
                            <th>用户名</th>
                            <th>评论</th>
                            <th>态度</th>
                        </tr>
                        </thead>
                        <tbody>
                        <!-- <tr><td>果然贵点就是好</td><td>16x332</td><td>一致</td></tr>
                        <tr><td>期望很高，卖这么贵，效果令人失望</td><td>19ax22</td><td>不一致</td></tr>
                        <tr><td>便宜没好货，早有预期。</td><td>1z9882s</td><td>一致</td></tr>
                        <tr><td>一分价钱一分货，满意</td><td>78xdf74</td><td>一致</td></tr>
                        <tr><td>200块钱打水漂，失望。。。</td><td>8cbd01</td><td>不一致</td></tr> -->
                        </tbody>
                    </table>
                </div></div>
            </div>
        </div>
        <!-- <div class="static_top left">
            <i></i><span>统计分析一</span>
        </div> -->

    </div>

</div>

<script src="js/jquery/jQuery-2.2.0.min.js"></script>
<script src="js/echarts-all.js"></script>
<script src="js/base.js"></script>
<script src="js/static.js"></script>
<script>
    score2manyi = ['很不满意', '不满意','不太满意','一般','较满意','满意','很满意'];
    $(document).ready(function(){
        $.ajax({
          url: "http://localhost:8080/quality/getQualityList",
          type: "GET",
          success: function(quality_data){
            console.log("请求成功", quality_data)
            const tbody = document.querySelector('#table_quality tbody');
            quality_data.data.qualityList.forEach(item =>{
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.name}</td>
                    <td>${item.comment}</td>
                    <td>${score2manyi[parseInt(item.sev)]}</td>
                `;
                tbody.appendChild(row);
            });
          },
          error: function(jqXHR, textStatus, errorThrown) {
            console.error("请求失败:", textStatus, errorThrown);
          }
        });
        i2ability = ['差', '较差','有点差','一般','较好','好'];
        $.ajax({
          url: "http://localhost:8080/loyalty/getLoyalty",
          type: "GET",
          success: function(loyalty_data){
          	console.log("请求loyalty_data成功", loyalty_data)
            const tbody = document.querySelector('#table_loyalty tbody');
            loyalty_data.data.loyaltyList.forEach((item, index) =>{
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index+1}</td>
                    <td>${item.name}</td>
                    <td>${i2ability[item.ability]}</td>
                `;
                tbody.appendChild(row);
            });
          },
          error: function(jqXHR, textStatus, errorThrown) {
            console.error("请求失败:", textStatus, errorThrown);
          }
        });

		$.ajax({
          url: "http://localhost:8080/participation/getParticipation",
          type: "GET",
          success: function(par_data){
          	console.log("请求par_data成功", par_data)
            const tbody = document.querySelector('#table_par tbody');
            par_data.data.participationList.forEach((item, index) =>{
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index+1}</td>
                    <td>${item.name}</td>
                    <td>${item.times}</td>
                `;
                tbody.appendChild(row);
            });
          },
          error: function(jqXHR, textStatus, errorThrown) {
            console.error("请求失败:", textStatus, errorThrown);
          }
        })
				
		score2im = ["差","较差","一般","较好","好"];
		$.ajax({
          url: "http://localhost:8080/price/getPrice",
          type: "GET",
          success: function(price_data){
          	console.log("请求price_data成功", price_data)
            const tbody = document.querySelector('#table_price tbody');
            price_data.data.priceList.forEach((item, index) =>{
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.name}</td>
                    <td>${item.comment}</td>
                    <td>${score2im[parseInt(item.eva)]}</td>
                `;
                tbody.appendChild(row);
            });
          },
          error: function(jqXHR, textStatus, errorThrown) {
            console.error("请求失败:", textStatus, errorThrown);
          }
        })

        i2attitude=['消极','中性','积极'];
        $.ajax({
            url: "http://localhost:8080/exp/getExpList",
            type: "GET",
            success: function(exp_data){
                console.log("请求exp_data成功", exp_data)
              const tbody = document.querySelector('#table_exp tbody');
              exp_data.data.expList.forEach((item, index) =>{
                  const row = document.createElement('tr');
                  row.innerHTML = `
                      <td>${item.name}</td>
                      <td>${item.comment}</td>
                      <td>${i2attitude[parseInt(item.attitude)]}</td>
                  `;
                  tbody.appendChild(row);
              });
            },
            error: function(jqXHR, textStatus, errorThrown) {
              console.error("请求失败:", textStatus, errorThrown);
            }
          })
          i2emo=['消极','中性','积极'];
          $.ajax({
            url: "http://localhost:8080/feedback/getFeedBackList",
            type: "GET",
            success: function(feedback_data){
                console.log("请求feedback_data成功", feedback_data)
              const tbody = document.querySelector('#table_feedback tbody');
              feedback_data.data.feedBackList.forEach((item, index) =>{
                  const row = document.createElement('tr');
                  row.innerHTML = `
                      <td>${item.name}</td>
                      <td>${item.comment}</td>
                      <td>${i2emo[item.emo]}</td>
                  `;
                  tbody.appendChild(row);
              });
            },
            error: function(jqXHR, textStatus, errorThrown) {
              console.error("请求失败:", textStatus, errorThrown);
            }
          });
      });

</script>

</body>
</html>
